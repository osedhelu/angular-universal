<div class="panel-header panel-header-lg px-4">
  <dx-chart id="chartOs" palette="violet" [dataSource]="architecturesInfo">
    <dxi-series valueField="pack1" name="pack1"></dxi-series>
    <dxi-series valueField="pack2" name="pack2"></dxi-series>
    <dxi-series valueField="pack3" name="pack3"></dxi-series>
    <dxi-series valueField="pack4" name="pack4"></dxi-series>
    <dxi-series valueField="pack5" name="pack5"></dxi-series>
    <dxi-series valueField="pack6" name="pack6"></dxi-series>

    <dxo-common-series-settings #seriesSettings argumentField="mes" [type]="types[0]">
    </dxo-common-series-settings>
    <dxo-margin [bottom]="20"></dxo-margin>
    <dxo-common-axis-settings>
      <dxo-grid [visible]="false"></dxo-grid>
    </dxo-common-axis-settings>
    <dxo-legend verticalAlignment="top" horizontalAlignment="right">
    </dxo-legend>
    <dxo-argument-axis [valueMarginsEnabled]="false" discreteAxisDivisionMode="crossLabels">
      <dxo-label>
        <dxo-format type="decimal"></dxo-format>
      </dxo-label>
    </dxo-argument-axis>
    <dxo-export [enabled]="false"></dxo-export>
    <dxo-tooltip [enabled]="true"></dxo-tooltip>
    <dxo-loading-indicator [enabled]="false"></dxo-loading-indicator>
  </dx-chart>
</div>

<div class="main-content">
  <div class="row">

    <div class="col-lg-4 col-md-6" *ngFor="let country of countries">
      <div class="card card-chart">
        <div class="card-header">
        </div>
        <div class="card-body">
          <div class="chart-area pies-container d-flex justify-content-center">
            <dx-pie-chart class="pie" sizeGroup="piesGroup" [dataSource]="getData(country)" [animation]="true"
              resolveLabelOverlapping="shift" type="doughnut" centerTemplate="centerTemplate" [innerRadius]="0.65">
              <dxi-series argumentField="commodity" valueField="total">

                <dxo-label backgroundColor="none" [visible]="true" format="fixedPoint" [customizeText]="customizeLabel">
                  <dxo-connector [visible]="true"></dxo-connector>
                </dxo-label>
              </dxi-series>
              <dxo-legend [visible]="false"> </dxo-legend>
              <svg *dxTemplate="let pieChart of 'centerTemplate'">
                <circle cx="100" cy="100" [attr.r]="pieChart.getInnerRadius() - 6" fill="#eee"></circle>
                <text x="64" y="84" width="60" style="font-size: 14px" height="40"> </text>
                <text text-anchor="middle" style="font-size: 18px" x="100" y="120" fill="#494949">
                  <tspan x="100">{{ country }}</tspan>
                  <!-- display: inline -->
                  <!-- <tspan x="100" dy="20px" style="font-weight: 600">{{
                    calculateTotal(pieChart)
                    }}</tspan> -->
                </text>
              </svg>
            </dx-pie-chart>
          </div>
        </div>
        <div class="card-footer">
          <div class="stats">
            <i class="now-ui-icons arrows-1_refresh-69"></i> Just Updated
          </div>
        </div>
      </div>
    </div>

  </div>

</div>